<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabligh Jamaat Management System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <header>
        <div class="header-title">
            <i class="fas fa-mosque"></i>
            <span>Tabligh Jamaat Management System</span>
        </div>
    </header>

    <div class="container">
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3 class="sidebar-title">Main Menu</h3>
                <button class="toggle-btn" id="toggleSidebar">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <div class="nav-menu">
                <div class="nav-item active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt nav-icon"></i>
                    <span class="nav-text">Dashboard</span>
                </div>
                <div class="nav-item" data-section="masajid">
                    <i class="fas fa-mosque nav-icon"></i>
                    <span class="nav-text">Masajid</span>
                </div>
                <div class="nav-item" data-section="jamaat">
                    <i class="fas fa-users nav-icon"></i>
                    <span class="nav-text">Jamaat Khurooj</span>
                </div>
                <div class="nav-item" data-section="amaal">
                    <i class="fas fa-clipboard-list nav-icon"></i>
                    <span class="nav-text">Daily A'maal</span>
                </div>
                <div class="nav-item" data-section="analytics">
                    <i class="fas fa-chart-bar nav-icon"></i>
                    <span class="nav-text">Analytics</span>
                </div>
                <div class="nav-item" data-section="users">
                    <i class="fas fa-user-cog nav-icon"></i>
                    <span class="nav-text">User Management</span>
                </div>
            </div>
        </div>

        <div class="main-content">
            <!-- Dashboard Section -->
            <div class="content-section active" id="dashboard-section">
                <div class="dashboard-cards">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Active Jamaats</div>
                            <div class="card-icon">
                                <i class="fas fa-users"></i>
                            </div>
                        </div>
                        <div class="card-value" id="active-jamaats">12</div>
                        <div class="card-description">Currently in khurooj</div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Masajid</div>
                            <div class="card-icon">
                                <i class="fas fa-mosque"></i>
                            </div>
                        </div>
                        <div class="card-value" id="total-masajid">8</div>
                        <div class="card-description">Registered in system</div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">This Month</div>
                            <div class="card-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                        </div>
                        <div class="card-value" id="monthly-khurooj">24</div>
                        <div class="card-description">Jamaats went out</div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Members</div>
                            <div class="card-icon">
                                <i class="fas fa-user-friends"></i>
                            </div>
                        </div>
                        <div class="card-value" id="total-members">156</div>
                        <div class="card-description">Participated this year</div>
                    </div>
                </div>

                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Recent Jamaats</h3>
                        <button class="btn btn-primary" id="add-jamaat-btn">
                            <i class="fas fa-plus"></i> Add New Jamaat
                        </button>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Jamaat ID</th>
                                <th>Duration</th>
                                <th>Members</th>
                                <th>Assigned Masjid</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="recent-jamaats">
                            <tr>
                                <td>JMT-2023-015</td>
                                <td>3 Days</td>
                                <td>5</td>
                                <td>Masjid Al-Huda</td>
                                <td><span class="badge badge-success">Active</span></td>
                                <td>
                                    <div class="action-btns">
                                        <button class="btn btn-icon btn-sm btn-secondary">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-icon btn-sm btn-secondary">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>JMT-2023-014</td>
                                <td>40 Days</td>
                                <td>8</td>
                                <td>Masjid Al-Noor</td>
                                <td><span class="badge badge-primary">Completed</span></td>
                                <td>
                                    <div class="action-btns">
                                        <button class="btn btn-icon btn-sm btn-secondary">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-icon btn-sm btn-secondary">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>JMT-2023-013</td>
                                <td>10 Days</td>
                                <td>6</td>
                                <td>Masjid Al-Falah</td>
                                <td><span class="badge badge-warning">Upcoming</span></td>
                                <td>
                                    <div class="action-btns">
                                        <button class="btn btn-icon btn-sm btn-secondary">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-icon btn-sm btn-secondary">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Masajid Section -->
            <div class="content-section" id="masajid-section">
                <div class="section-header">
                    <h3 class="section-title">Masajid Management</h3>
                    <button class="btn btn-primary" id="add-masjid-btn">
                        <i class="fas fa-plus"></i> Add New Masjid
                    </button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Address</th>
                            <th>Imam</th>
                            <th>Contact</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="masajid-list">
                        <tr>
                            <td>Masjid Al-Huda</td>
                            <td>123 Main St, City</td>
                            <td>Sheikh Abdullah</td>
                            <td>+1234567890</td>
                            <td>
                                <div class="action-btns">
                                    <button class="btn btn-icon btn-sm btn-secondary">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-icon btn-sm btn-secondary">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-icon btn-sm btn-danger">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Masjid Al-Noor</td>
                            <td>456 Park Ave, City</td>
                            <td>Sheikh Muhammad</td>
                            <td>+1234567891</td>
                            <td>
                                <div class="action-btns">
                                    <button class="btn btn-icon btn-sm btn-secondary">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-icon btn-sm btn-secondary">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-icon btn-sm btn-danger">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Jamaat Khurooj Section -->
            <div class="content-section" id="jamaat-section">
                <div class="section-header">
                    <h3 class="section-title">Jamaat Khurooj Management</h3>
                    <button class="btn btn-primary" id="add-new-jamaat-btn">
                        <i class="fas fa-plus"></i> Add New Jamaat
                    </button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Jamaat ID</th>
                            <th>Duration</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <th>Members</th>
                            <th>Assigned Masjid</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="jamaat-list">
                        <tr>
                            <td>JMT-2023-015</td>
                            <td>3 Days</td>
                            <td>15-06-2023</td>
                            <td>18-06-2023</td>
                            <td>5</td>
                            <td>Masjid Al-Huda</td>
                            <td><span class="badge badge-success">Active</span></td>
                            <td>
                                <div class="action-btns">
                                    <button class="btn btn-icon btn-sm btn-secondary">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-icon btn-sm btn-secondary">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-icon btn-sm btn-danger">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>JMT-2023-014</td>
                            <td>40 Days</td>
                            <td>01-05-2023</td>
                            <td>10-06-2023</td>
                            <td>8</td>
                            <td>Masjid Al-Noor</td>
                            <td><span class="badge badge-primary">Completed</span></td>
                            <td>
                                <div class="action-btns">
                                    <button class="btn btn-icon btn-sm btn-secondary">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-icon btn-sm btn-secondary">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Daily A'maal Section -->
            <div class="content-section" id="amaal-section">
                <div class="section-header">
                    <h3 class="section-title">Daily A'maal Dashboard</h3>
                    <button class="btn btn-primary" id="add-amaal-btn">
                        <i class="fas fa-plus"></i> Add Daily Report
                    </button>
                </div>
                
                <div class="tab-container">
                    <div class="tabs">
                        <div class="tab active" data-tab="fajr">Fajr Taaleem</div>
                        <div class="tab" data-tab="maghrib">Maghrib Bayan</div>
                        <div class="tab" data-tab="mashwara">Mashwara</div>
                    </div>
                    
                    <div class="tab-content active" id="fajr-tab">
                        <table>
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Topic</th>
                                    <th>Speaker</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="fajr-taaleem-list">
                                <tr>
                                    <td>15-06-2023</td>
                                    <td>Importance of Dawah</td>
                                    <td>Sheikh Abdullah</td>
                                    <td>
                                        <div class="action-btns">
                                            <button class="btn btn-icon btn-sm btn-secondary">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-icon btn-sm btn-secondary">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>14-06-2023</td>
                                    <td>Virtues of Salah</td>
                                    <td>Sheikh Muhammad</td>
                                    <td>
                                        <div class="action-btns">
                                            <button class="btn btn-icon btn-sm btn-secondary">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-icon btn-sm btn-secondary">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="tab-content" id="maghrib-tab">
                        <table>
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Summary</th>
                                    <th>Speaker</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="maghrib-bayan-list">
                                <tr>
                                    <td>15-06-2023</td>
                                    <td>Discussion on sincerity in deeds</td>
                                    <td>Sheikh Abdullah</td>
                                    <td>
                                        <div class="action-btns">
                                            <button class="btn btn-icon btn-sm btn-secondary">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-icon btn-sm btn-secondary">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="tab-content" id="mashwara-tab">
                        <table>
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Notes</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="mashwara-list">
                                <tr>
                                    <td>15-06-2023</td>
                                    <td>Planning for next khurooj</td>
                                    <td>
                                        <div class="action-btns">
                                            <button class="btn btn-icon btn-sm btn-secondary">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-icon btn-sm btn-secondary">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Analytics Section -->
            <div class="content-section" id="analytics-section">
                <div class="section-header">
                    <h3 class="section-title">Analytics</h3>
                </div>
                
                <div class="dashboard-cards">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Khurooj This Month</div>
                            <div class="card-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="monthlyChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Khurooj Durations</div>
                            <div class="card-icon">
                                <i class="fas fa-chart-pie"></i>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="durationChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Most Active Masajid</h3>
                    </div>
                    <div class="chart-container" style="height: 400px;">
                        <canvas id="masjidChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- User Management Section -->
            <div class="content-section" id="users-section">
                <div class="section-header">
                    <h3 class="section-title">User Management</h3>
                    <button class="btn btn-primary" id="add-user-btn">
                        <i class="fas fa-plus"></i> Add New User
                    </button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Role</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="users-list">
                        <tr>
                            <td>Admin User</td>
                            <td>admin@example.com</td>
                            <td>Admin</td>
                            <td><span class="badge badge-success">Active</span></td>
                            <td>
                                <div class="action-btns">
                                    <button class="btn btn-icon btn-sm btn-secondary">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-icon btn-sm btn-secondary">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Amir Khan</td>
                            <td>amir@example.com</td>
                            <td>Amir</td>
                            <td><span class="badge badge-success">Active</span></td>
                            <td>
                                <div class="action-btns">
                                    <button class="btn btn-icon btn-sm btn-secondary">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-icon btn-sm btn-secondary">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Add Masjid Modal -->
    <div class="modal" id="masjid-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add New Masjid</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="masjid-form">
                    <input type="hidden" id="masjid-id">
                    <div class="form-group">
                        <label for="masjid-name" class="form-label">Masjid Name</label>
                        <input type="text" id="masjid-name" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="masjid-address" class="form-label">Address</label>
                        <textarea id="masjid-address" class="form-control" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="masjid-imam" class="form-label">Imam Name</label>
                        <input type="text" id="masjid-imam" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="masjid-contact" class="form-label">Contact Number</label>
                        <input type="tel" id="masjid-contact" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="masjid-fajr" class="form-label">Fajr Time</label>
                        <input type="time" id="masjid-fajr" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="masjid-dhuhr" class="form-label">Dhuhr Time</label>
                        <input type="time" id="masjid-dhuhr" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="masjid-asr" class="form-label">Asr Time</label>
                        <input type="time" id="masjid-asr" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="masjid-maghrib" class="form-label">Maghrib Time</label>
                        <input type="time" id="masjid-maghrib" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="masjid-isha" class="form-label">Isha Time</label>
                        <input type="time" id="masjid-isha" class="form-control" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-masjid">Cancel</button>
                <button class="btn btn-primary" id="save-masjid">Save Masjid</button>
            </div>
        </div>
    </div>

    <!-- Add Jamaat Modal -->
    <div class="modal" id="jamaat-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add New Jamaat</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="jamaat-form">
                    <input type="hidden" id="jamaat-id">
                    <div class="form-group">
                        <label for="jamaat-duration" class="form-label">Duration</label>
                        <select id="jamaat-duration" class="form-control" required>
                            <option value="">Select Duration</option>
                            <option value="3">3 Days</option>
                            <option value="10">10 Days</option>
                            <option value="40">40 Days</option>
                            <option value="120">4 Months</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="jamaat-start-date" class="form-label">Start Date</label>
                        <input type="date" id="jamaat-start-date" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="jamaat-end-date" class="form-label">End Date</label>
                        <input type="date" id="jamaat-end-date" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="jamaat-masjid" class="form-label">Assigned Masjid</label>
                        <select id="jamaat-masjid" class="form-control" required>
                            <option value="">Select Masjid</option>
                            <option value="1">Masjid Al-Huda</option>
                            <option value="2">Masjid Al-Noor</option>
                            <option value="3">Masjid Al-Falah</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="jamaat-members" class="form-label">Members (comma separated)</label>
                        <textarea id="jamaat-members" class="form-control" rows="3" placeholder="Enter member names separated by commas" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="jamaat-amir" class="form-label">Amir Name</label>
                        <input type="text" id="jamaat-amir" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="jamaat-notes" class="form-label">Notes</label>
                        <textarea id="jamaat-notes" class="form-control" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-jamaat">Cancel</button>
                <button class="btn btn-primary" id="save-jamaat">Save Jamaat</button>
            </div>
        </div>
    </div>

    <!-- Add A'maal Modal -->
    <div class="modal" id="amaal-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add Daily A'maal</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="amaal-form">
                    <input type="hidden" id="amaal-id">
                    <input type="hidden" id="amaal-type">
                    <div class="form-group">
                        <label for="amaal-date" class="form-label">Date</label>
                        <input type="date" id="amaal-date" class="form-control" required>
                    </div>
                    <div class="form-group" id="taaleem-topic-group">
                        <label for="taaleem-topic" class="form-label">Fajr Taaleem Topic</label>
                        <input type="text" id="taaleem-topic" class="form-control">
                    </div>
                    <div class="form-group" id="bayan-summary-group">
                        <label for="bayan-summary" class="form-label">Maghrib Bayan Summary</label>
                        <textarea id="bayan-summary" class="form-control" rows="3"></textarea>
                    </div>
                    <div class="form-group" id="mashwara-notes-group">
                        <label for="mashwara-notes" class="form-label">Mashwara Notes</label>
                        <textarea id="mashwara-notes" class="form-control" rows="3"></textarea>
                    </div>
                    <div class="form-group" id="speaker-group">
                        <label for="speaker-name" class="form-label">Speaker Name</label>
                        <input type="text" id="speaker-name" class="form-control">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-amaal">Cancel</button>
                <button class="btn btn-primary" id="save-amaal">Save A'maal</button>
            </div>
        </div>
    </div>

    <!-- Add User Modal -->
    <div class="modal" id="user-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add New User</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="user-form">
                    <input type="hidden" id="user-id">
                    <div class="form-group">
                        <label for="user-name" class="form-label">Full Name</label>
                        <input type="text" id="user-name" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="user-email" class="form-label">Email</label>
                        <input type="email" id="user-email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="user-role" class="form-label">Role</label>
                        <select id="user-role" class="form-control" required>
                            <option value="">Select Role</option>
                            <option value="admin">Admin</option>
                            <option value="amir">Amir</option>
                            <option value="member">Member</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="user-password" class="form-label">Password</label>
                        <input type="password" id="user-password" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="user-status" class="form-label">Status</label>
                        <select id="user-status" class="form-control" required>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-user">Cancel</button>
                <button class="btn btn-primary" id="save-user">Save User</button>
            </div>
        </div>
    </div>

    <script src="/script.js"></script>
</body>
</html>